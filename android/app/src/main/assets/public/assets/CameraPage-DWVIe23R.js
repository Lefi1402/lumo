import{d as p,r as d,p as C,c as k,w as l,u as s,I as y,a as r,b as I,e as w,f as b,g as x,h as o,q as M,s as P,l as B,t as N,n as O,k as R,o as _}from"./index-5HwVCnRn.js";const T={class:"camera-controls"},V={class:"camera-slot"},U=["src"],D={class:"camera-slot"},E=p({__name:"CameraPage",setup(i){const u=R(),a=d(null),n=d(null),c=d("environment"),m=async()=>{const t={video:{facingMode:c.value}},e=await navigator.mediaDevices.getUserMedia(t);a.value&&(a.value.srcObject=e)},f=async()=>{const t=a.value;if(!t)return;const e=document.createElement("canvas");e.width=t.videoWidth,e.height=t.videoHeight;const v=e.getContext("2d");v&&(v.drawImage(t,0,0,e.width,e.height),n.value=e.toDataURL("image/png"))},g=async()=>{c.value=c.value==="user"?"environment":"user",await m()},h=()=>{u.push("/tabs/gallery")};return C(()=>{m()}),(t,e)=>(_(),k(s(y),null,{default:l(()=>[r(s(x),null,{default:l(()=>[r(s(I),null,{default:l(()=>[r(s(w),{class:"lumo-title-center"},{default:l(()=>e[0]||(e[0]=[b("LUMO",-1)])),_:1,__:[0]})]),_:1})]),_:1}),r(s(O),{fullscreen:!0,class:"camera-content"},{default:l(()=>[o("video",{ref_key:"videoRef",ref:a,autoplay:"",playsinline:"",class:"camera-preview"},null,512),o("div",T,[o("div",V,[n.value?(_(),M("img",{key:0,src:n.value,class:"camera-thumbnail",onClick:h},null,8,U)):P("",!0)]),o("div",{class:"camera-slot center"},[o("button",{class:"camera-button",onClick:f})]),o("div",D,[r(s(B),{icon:s(N),class:"camera-toggle",onClick:g},null,8,["icon"])])])]),_:1})]),_:1}))}}),H=(i,u)=>{const a=i.__vccOpts||i;for(const[n,c]of u)a[n]=c;return a},j=H(E,[["__scopeId","data-v-108fe9a0"]]);export{j as default};
